\documentclass[12pt,a4paper,titlepage,final]{book}
\usepackage[left=2.5cm,right=2.5cm,top=4cm,bottom=2.5cm]{geometry}

% Pacotes usados {{
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amsfonts,amstext,textcomp}         % permite simbolos matematicos
\usepackage{bm}                                                % negrito em letras gregas
\usepackage{mathrsfs}                                          % permite o uso de letras trabalhadas
\usepackage{amsthm}
\usepackage{pgf}
\usepackage{graphicx}
\usepackage{float} % Allows putting an [H] in \begin{figure} to specify the exact location of the figure
\usepackage{color}
\usepackage{xcolor}
\definecolor{myOrange}{rgb}{1,0.5,0}
% \definecolor{myOrange}{rgb}{1,0.5,0}
\usepackage{booktabs}                                          % Tabelas com qualidade de publicao
\usepackage{indentfirst}
\usepackage{rotating}
\usepackage{braket}
\usepackage[ruled,vlined,onelanguage,portuguese,slide]{algorithm2e}                         % Para algoritmos (melhor que o outro)
\usepackage{multirow}
\usepackage{fancyhdr}
\usepackage{makeidx}
\usepackage{setspace}
\usepackage[colorlinks,citecolor=blue]{hyperref}               % tirar [colorlinks] para imprimir
% \usepackage{autonum}                                         % Mostra numeracao somente em eq citadas
\usepackage{mathtools}
\mathtoolsset{showonlyrefs=true}                               % Mostra numeracao somente em eq citadas
\usepackage{ae}
\usepackage[below]{placeins}
\usepackage{flafter}
\usepackage{pxfonts}
% \usepackage{subfigure}
\usepackage{appendix}
\usepackage{listings}                                          % para cdigo fonte
\usepackage[symbol]{footmisc}                                  % Mudando marcadores do footnote

% Tikz
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{shapes,arrows,calc,automata,positioning}
\usetikzlibrary{plotmarks}    % marcas nos graficos
\usetikzlibrary{arrows.meta}  % estilos de setas

% \usetikzlibrary{external}
% \usepgfplotslibrary{external}
% % \tikzexternalize[prefix=tikz/]
% \tikzexternalize[optimize=false,prefix=Figs/]
% \tikzset{external/force remake=false}
\usepgfplotslibrary{patchplots}

\usepackage{soul}                                              % para highlighth (todonotes)
\usepackage{natbib}                                            % para usar citep, etc...
\usepackage{subfig}                                            % para subfiguras

\pgfplotsset{compat=newest}
%% the following commands are needed for some matlab2tikz features
\usepackage{grffile}   % Permite usar carc. esp. em nomes de arq
\usepackage{amsmath}   % Enhance-ments for improving mathematical formulas


\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}


\setlength{\belowcaptionskip}{10pt}

% \input{novoscomandos.tex}

\begin{document}

% % {{{ Defincao de cabecalhos -------------------------------------------
% \pagestyle{fancy}
% \renewcommand{\chaptermark}[1]{\markboth{\thechapter\ #1}{}}
% \renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}{}}
% \fancyhf{}
% \fancyhead[LE,RO]{\thepage}
% \fancyhead[LO]{\rightmark}
% \fancyhead[RE]{\leftmark}
% \renewcommand{\headrulewidth}{0.5pt}
% \renewcommand{\footrulewidth}{0.0pt}
% \addtolength{\headheight}{2.5pt}                % 2.5pt
% \fancypagestyle{plain}{
%      \fancyhead{}
%      \renewcommand{\headrulewidth}{0pt}
%      }
% % }}} ------------------------------------------------------------------
%

\begin{algorithm}[htpb]
  \SetKwInOut{In}{inicializa}
  \caption{RaMSS algorithm}\label{alg:RaMSS}
  \In{conj. de regres. $\mathscr{R}=\{\phi_{1},\dots,\phi_{m}\}$ e par. simulação}
  \While{não atingir critério de parada}
  {
     \In{RIPs ($\bm{\mu}$)}
     \For{ 1 até n. modelos sorteados}
     {
        \For{cada regressor $\phi_j$}
        {
           $\rho_j \gets \text{Be}(\mu_j)$ \\
           \If{$\rho_j = 1$}
           {
              Regressor $\phi_j$ é incluido no modelo $\bm{\psi}_i$\\
           }
        }
        $\hat{\bm{\theta}}$ é estimado \\
        $\tilde{\bm{\psi}}_i \gets $ Remove regressores redundantes; \\
        $\hat{\bm{y}} \gets \text{Predict}(\bm{\psi}(k))$ \\
        $\mathcal{J}_i \gets e^{-K\cdot MSPE(\bm{y},\bm{\hat{y}})} $
     }
     \For{para cada regressor $\phi_j$ }
     {
        % $\mathcal{J}^{+}, \mathcal{J}^{-} \gets 0$; \\
        \For{cada modelo $\tilde{\bm{\psi}}_i$}
        {
           \If{$\phi_j \in \tilde{\bm{\psi}}$}
           {
              $\mathcal{J}_i^{+} \gets \mathcal{J}_i^{+} + \mathcal{J}_i$ \\
           } \Else
           {
              $\mathcal{J}_i^{-} \gets \mathcal{J}_i^{-} + \mathcal{J}_i$ \\
           }
        }
        $\mu_j \gets \mu_j + \gamma  \left( \frac{\mathcal{J}_i^{+}}{n^+} - \frac{\mathcal{J}_i^{-}}{n^-} \right) $ \\
        % $\mu_j \gets \max \left( \min(\mu_j, \mu_{\max}), \mu_{\min} \right) $
     }
  }
\end{algorithm}%[H]

\newpage


\begin{algorithm}[htpb]
  \SetKwInOut{In}{inicializa}
  \caption{\bf{RaCSS}}\label{alg:RaMSS}
  \In{conj. de regres. $\mathscr{R}=\{\phi_{1},\dots,\phi_{m}\}$ e par. simulação}
  \While{não atingir critério de parada}
  {
     \In{RIPs ($\bm{\mu}$)}
     \For{ 1 até n. modelos sorteados}
     {
        \For{cada regressor $\phi_j$}
        {
           $\rho_j \gets \text{Be}(\mu_j)$ \\
           \If{$\rho_j = 1$}
           {
              Regressor $\phi_j$ é incluido no modelo $\bm{\psi}_i$\\
           }
        }
        $\hat{\bm{\theta}}$ é estimado \\
        $\tilde{\bm{\psi}}_i \gets $ Remove regressores redundantes; \\
        $\hat{\bm{u}} \gets \text{Predict}(\bm{\psi}_i,\hat{\bm{\theta}})$ \\
        $\bm{y}_{\theta} \gets SimMF(r,\hat{\bm{\theta}})$ \\
        $\mathcal{J}_i \gets (1-\alpha)e^{-K\cdot MSPE(\tilde{\bm{u}},\bm{\hat{u}})} + \alpha e^{-K\cdot MSTE(\bm{y_{RM}},\bm{y}_\theta)} $
     }
     \For{para cada regressor $\phi_j$ }
     {
        % $\mathcal{J}^{+}, \mathcal{J}^{-} \gets 0$; \\
        \For{cada modelo $\tilde{\bm{\psi}}_i$}
        {
           \If{$\phi_j \in \tilde{\bm{\psi}}$}
           {
              $\mathcal{J}_i^{+} \gets \mathcal{J}_i^{+} + \mathcal{J}_i$ \\
           } \Else
           {
              $\mathcal{J}_i^{-} \gets \mathcal{J}_i^{-} + \mathcal{J}_i$ \\
           }
        }
        $\mu_j \gets \mu_j + \gamma  \left( \frac{\mathcal{J}_i^{+}}{n^+} - \frac{\mathcal{J}_i^{-}}{n^-} \right) $ \\
        % $\mu_j \gets \max \left( \min(\mu_j, \mu_{\max}), \mu_{\min} \right) $
     }
  }
\end{algorithm}%[H]
%--------------------------------------------------------------------
\end{document}

% vim: set sw=4 ts=4 sts=2 tw=80 ft=tex 

